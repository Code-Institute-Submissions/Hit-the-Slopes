{% extends 'base.html'%} 
{% block content %}

<div id="search-skiresorts-panel" class="row card-panel">
    <h5 class="center">SEARCH SKI RESORTS</h5> 
    <form action="{{ url_for('search_ski_resorts') }}" method="post" class="col s12">
        <div class="row valign-wrapper center-align">
            <div class="input-field col s12 m6">
                <i class="small material-icons prefix">search</i>
                <input type="text" name="query" id="query" class="validate" required>
            </div>
            <div class="row col s12 m4">
                <a href="{{ url_for('ski_resorts') }}" class="search-btn red btn text-shadow">Reset</a>
                <button type="submit" class="search-btn light-blue btn text-shadow">Search</button>
            </div>
        </div>
    </form>
</div>

<table>
    <tbody>
    {% for skiresort in skiresorts|sort(attribute="location_name") %} 
        <tr>
            <td class="td">
                <div class="card ski-resort-card">
                    <div class="card-content ski-resort-content row">
                        <div class="col s12 m5 l5">
                            <div class="row"> 
                                <div class="col s6 m6 l6">
                                    <span class="location-name"><h5 class="card-title">{{skiresort.location_name}}</h5></span>  
                                    <p class="skiresort-description">{{skiresort.description}}</p>
                                </div>
                                <div class="col s6 m6 l6 thumbnail-div">
                                    <img class="thumbnail" src="{{skiresort.thumbnail}}" width="85" height="85"/>
                                </div>
                            </div>
                        </div>
                        <div class="col s6 m3 l3">
                            <div class="row">
                                <div class="col s12 m12 l12">
                                    <p>Night skiing: {{skiresort.night}}</p>
                                </div>
                                <div class="col s12 m12 l12">
                                    <p>Glacier: {{skiresort.glacier}}</p>
                                </div>
                            </div>
                            <div class="">
                                <a href="{{skiresort.website}}" target="_blank">Web</a>
                                <a href="{{skiresort.map}}" target="_blank">Map</a>
                            </div>
                        </div>
                        <div class="col s6 m4 l4">
                            <div class="row">    
                                <div class="col">
                                    <p>Additional info:</p>
                                </div>
                                <div class="col">
                                    <p>{{skiresort.other_info}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s6 m8 l8">
                        </div>
                        <div class="col s6 m4 l4">
                            <a href="{{url_for('edit_skiresort', skiresort_id=skiresort._id)}}" class=" invisible waves-effect waves-light btn-small right">Edit</a>
                            <a href="{{url_for('delete_skiresort', skiresort_id=skiresort._id)}}" class=" invisible waves-effect waves-light btn-small right">Delete</a>
                        </div>
                    </div> 
                </div>
            </td>
        </tr>   
    {% endfor %}
    </tbody>
 </table>   

{% endblock %}